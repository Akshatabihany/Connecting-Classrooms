<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

</head>

<body>
  <div class="container">
    <div>
      <h1>
        <%=ClassName %>
      </h1>
    </div>
    <br>
    <div>
      <h1>
        <%=id %>
      </h1>
    </div>
    <!-- Pending approval -->
    <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
  Notifications <span class="badge badge-light"><%=notifications.length%></span>
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <% for(var i=0; i < notifications.length ; i++) { %>
         <div><%=notifications[i].StudentID %></div>
         <div><%=notifications[i].StartDate %></div>
         <div><%=notifications[i].EndDate %></div>
         <div><%=notifications[i].Description %></div>
         <form method="post" action="/ChangeMode/<%=id %>/<%=notifications[i].StudentID %>/<%=notifications[i].StartDate %>/<%=notifications[i].EndDate %>">
         <button class="btn btn-info">Approve</button>
        </form>
         <br><hr><br>
        <% } %>  
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


    <!-- Pending approval end -->
    <!-- Schedule -->
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Weekday</th>
          <th scope="col">StartTime</th>
          <th scope="col">EndTime</th>
        </tr>
      </thead>
      <tbody>
        <% for(var i=0; i < Schedule.length; i++) { %>
          <tr>
            <th scope="row">
              <%=i+1%>
            </th>
            <td>
              <%= Schedule[i].dayIndex %>
            </td>
            <td>
              <%= Schedule[i].startTime %>
            </td>
            <td>
              <%= Schedule[i].endTime %>
            </td>
            <td>
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="<%= Schedule[i].dayIndex %>">
                Edit
              </button>
            </td>
          </tr>
          <% } %>
      </tbody>
    </table>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Update Timings for</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- <form> -->
            <form id="docsForm" method="post"> 
              <div class="form-group">
                <label for="startTime" class="col-form-label">Enter start time:</label>
                <input type="text" class="form-control" name="startTime">
              </div>
              <div class="form-group">
                <label for="endTime" class="col-form-label">Enter end time:</label>
                <input type="text" class="form-control" name="endTime">
              </div>
              <button>click</button> 
           
          </div>
          </form>
        </div>
      </div>
    </div>
            <!-- Add more to schedule -->
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2">
        Add More
      </button>
      <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add in Schedule</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <!-- <form> -->
              <form id="docsForm2" method="get" action="/addToSchdule/<%=id %>"> 
                <div class="form-group">
                  <select name="weekday" class="form-control">
                    <option value="Monday">Monday</option>
                    <option value="Tuesday">Tuesday</option>
                    <option value="Wednesday">Wednesday</option>
                    <option value="Thursday">Thursday</option>
                    <option value="Friday">Friday</option>
                    <option value="Saturday">Saturday</option>
                </select>
                
                  <!-- <label for="startTime" class="col-form-label">Enter Weekday:</label>
                  <input type="text" class="form-control" name="Weekday"> -->
                </div>
                <div class="form-group">
                  <label for="startTime" class="col-form-label">Enter start time:</label>
                  <input type="text" class="form-control" name="startTime">
                </div>
                <div class="form-group">
                  <label for="endTime" class="col-form-label">Enter end time:</label>
                  <input type="text" class="form-control" name="endTime">
                </div>
                <button>click</button> 
              </form>
            </div>
            
          </div>
        </div>
      </div>

      <!-- Add more to schedule ends -->

      <!-- Number of students onlne/offline/waiting for approval -->
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- <script src="JavaScript/jquery.js" />
<script src="JavaScript/bootstrap-min.js" /> -->
    <script>

      $('#exampleModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget) // Button that triggered the modal
        var day = button.data('whatever') // Extract info from data-* attributes
        var modal = $(this)
        modal.find('.modal-title').text('Update Timings for ' + day)
        $("#docsForm").attr("action", "/EditSchedule/<%=id %>/" + day);
        modal.find('.modal-body input').val(day)
      })
      
      // $('#exampleModal2').on('show.bs.modal', function (event) {
      //   var selValue = $("#singleSelectTextDDjQuery:selected").text();
      //  alert(selValue)
      //   $("#docsForm2").attr("action", "/addToSchdule/<%=id %>");
      // })
    
    </script>

</body>

</html>